schema: '2.0'
stages:
  split:
    cmd: pdm run python scripts/split.py --infile data/iris.asdf --trainfile data/train.npz
      --testfile data/test.npz
    deps:
    - path: data/iris.asdf
      hash: md5
      md5: 520597023597e0d83c52ba090707063e
      size: 10210
    - path: scripts/split.py
      hash: md5
      md5: 4c19e3a4798ced25071ec42953a2a203
      size: 2024
    params:
      params.yaml:
        split.rand_seed: 999
        split.train_size: 0.9
    outs:
    - path: data/test.npz
      hash: md5
      md5: 554c660d89850e43f94c3f9d6dd4b3f3
      size: 1090
    - path: data/train.npz
      hash: md5
      md5: 0c443ae432ebe0d7ac8b5e2ec8f5acfc
      size: 5890
  train:
    cmd: pdm run python scripts/train.py -i data/train.npz -o models/logistic.pkl
    deps:
    - path: data/train.npz
      hash: md5
      md5: 0c443ae432ebe0d7ac8b5e2ec8f5acfc
      size: 5890
    - path: scripts/train.py
      hash: md5
      md5: 4a6bed303e2ff8cf1081b014059df33c
      size: 1405
    params:
      params.yaml:
        train.random_state: 20120901
    outs:
    - path: models/logistic.pkl
      hash: md5
      md5: 83152a919d4fcb2e7bcf1d4fb396ea95
      size: 1011
  evaluate:
    cmd: pdm run python scripts/evaluate.py --trainfile data/train.npz --testfile
      data/test.npz --modelfile models/logistic.pkl --outfile metrics.json
    deps:
    - path: data/test.npz
      hash: md5
      md5: 554c660d89850e43f94c3f9d6dd4b3f3
      size: 1090
    - path: data/train.npz
      hash: md5
      md5: 0c443ae432ebe0d7ac8b5e2ec8f5acfc
      size: 5890
    - path: models/logistic.pkl
      hash: md5
      md5: 83152a919d4fcb2e7bcf1d4fb396ea95
      size: 1011
    - path: scripts/evaluate.py
      hash: md5
      md5: dcd8d3a45382e2b55a355868218b63a6
      size: 2015
    outs:
    - path: metrics.json
      hash: md5
      md5: 400150e06cb335504f2fea768fec6462
      size: 65
